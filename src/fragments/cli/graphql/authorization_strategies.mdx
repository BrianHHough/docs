<Accordion title='GraphQL update mutation' headingLevel='2' eyebrow='Learn more'>
To update the item use the GraphQL update mutation:

<BlockSwitcher>
<Block name="TypeScript">

```ts
import { API } from "aws-amplify";
import * as mutations from './graphql/mutations';
import { GraphQLQuery } from '@aws-amplify/api';
import { UpdateTodoInput, UpdateTodoMutation } from './API';

const todoDetails: UpdateTodoInput = {
  id: 'some_id',
  description: 'Updated description'
};

const updatedTodo = await API.graphql<GraphQLQuery<UpdateTodoMutation>>({ 
  query: mutations.updateTodo, 
  variables: { input: todoDetails }
});
```

</Block>

<Block name="JavaScript">

```js
import { API } from "aws-amplify";
import * as mutations from './graphql/mutations';

const todoDetails = {
  id: 'some_id',
//  _version: 'current_version', // add the "_version" field if your AppSync API has conflict detection (required for DataStore) enabled
  description: 'Updated description'
};

const updatedTodo = await API.graphql({ 
  query: mutations.updateTodo, 
  variables: { input: todoDetails }
});
```

</Block>

<Block name="CLI">

```js
import { API } from 'aws-amplify'
import { createTodo, updateTodo, deleteTodo } from './graphql/mutations'

const result = await API.graphql(graphqlOperation(updateTodo, {
  input: {
    id: "<...>",
    name: "My first updated todo!"
  }
}))
console.log(result)
```

The result should contain the updated value: `My first updated todo!`.

</Block>
</BlockSwitcher>

<Callout> this is sample text to show length</Callout>
In this guide, you will learn how to deploy a form API backed by Lambda and DynamoDB.

The form that you will be creating is a contact form that will capture the user's name and phone number. By the end of this guide, you should be able to create and fetch form entries.

### Initializing the Amplify project

To get started, create a new Amplify project:

```sh
amplify init

# Choose your environment name and default text editor
# You can answer the defaults for the rest of the questions and then choose the AWS profile you'd like to use for this project.
```

### Creating the database

Next, add the DynamoDB table:

```sh
amplify add storage

? Please select from one of the below mentioned services: NoSQL Database
? Please provide a friendly name for your resource that will be used to label this category in the project: formtable
? Please provide table name: formtable
? What would you like to name this column: id
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: name
? Please choose the data type: string
? Would you like to add another column? Yes
? What would you like to name this column: phone
? Please choose the data type: string
? Would you like to add another column? N
? Please choose partition key for the table: id
? Do you want to add a sort key to your table? N
? Do you want to add global secondary indexes to your table? N
? Do you want to add a Lambda Trigger for your Table? N
```

### Creating the API

Now that the table has been created, create the API and function that will connect with the table:

```sh
amplify add api

? Please select from one of the below mentioned services: REST
? Provide a friendly name for your resource to be used as a label for this category in the project: formapi
? Provide a path (e.g., /book/{isbn}): /contact
? Choose a Lambda source Create a new Lambda function
? Provide a friendly name for your resource to be used as a label for this category in the project: formfunction
? Provide the AWS Lambda function name: formfunction
? Choose the function runtime that you want to use: NodeJS
? Choose the function template that you want to use: Serverless ExpressJS function (Integration with API Gateway)
? Do you want to access other resources created in this project from your Lambda function? Yes
? Select the category storage
Storage category has a resource called formtable
? Select the operations you want to permit for formtable create, read
? Do you want to invoke this function on a recurring schedule? N
? Do you want to edit the local lambda function now? N
? Restrict API access: N
? Do you want to add another path? N
```

The API endpoint has been configured and some boilerplate function code has been created.

### Updating the function code

Next, open the function code located at __amplify/backend/function/formfunction/src/app.js__ in your text editor and replace its contents:

</Accordion>
